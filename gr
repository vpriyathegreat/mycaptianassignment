<h2>KYC Applications</h2>
<pre>{{ applications | json }}</pre> <!-- just for debug -->

<table border="1">
  <tr>
    <th>ID</th>
    <th>Status</th>
    <th>Document</th>
    <th>Submitted At</th>
    <th>Actions</th>
  </tr>
  <tr *ngFor="let app of applications">
    <td>{{ app.id }}</td>
    <td>{{ app.status }}</td>
    <td>
      <a [href]="getDocumentUrl(app.documentPath)" target="_blank">View</a>
    </td>
    <td>{{ app.submittedAt | date:'short' }}</td>
    <td *ngIf="app.status === 'PENDING'">
      <button (click)="updateStatus(app.id, 'approve')">Approve</button>
      <button (click)="updateStatus(app.id, 'reject')">Reject</button>
    </td>
  </tr>
</table>



getDocumentUrl(path: string): string {
  if (!path) return '#';
  const fileName = path.split('\\').pop();
  return `http://localhost:8000/media/kyc_uploads/${fileName}`;
}




<td><a [href]="getDocumentUrl(app.documentPath)" target="_blank">View</a></td>
